<?xml version="1.0" encoding="ISO-8859-1" ?>

<!DOCTYPE struts-config PUBLIC
  "-//Apache Software Foundation//DTD Struts Configuration 1.2//EN"
  "http://struts.apache.org/dtds/struts-config_1_2.dtd">

<struts-config>
  <!-- ========== Form Bean Definitions ================= -->
  <!-- Unused example
  
    <form-bean    name="feedbackForm" 
                  type="com.seitti.tunnusx.web.FeedbackForm"/>
  
  -->
  	<form-beans>
   		<form-bean name="loginForm" 
                  type="controller.form.LoginForm"/>
                  
		<form-bean name="userForm"
				  type="controller.form.UserForm"/>
                  
        <form-bean name="projectForm" 
                  type="controller.form.ProjectForm"/>
                  
        <form-bean name="idForm" 
                  type="controller.form.IdForm"/>    
                  
	</form-beans>

  <global-forwards>
  
  	<forward name="main"
              path="/MainPage.do"/>  
              
	<forward name="editUser"
              path="/EditUser.do"/> 
              
    <forward name="editProject"
              path="/EditProject.do"/>  
              
    <forward name="login"
              path="/Login.do"/>   
              
    <forward name="logout"
    			path="/Logout.do"/>      
  </global-forwards>
  

  <!-- ========== Action Mapping Definitions ============ -->
  <action-mappings>
    
    <action path="/Login"
              type="controller.LoginAction"
              name="loginForm"
              input="/login.jsp"
              scope="request">
	    <forward name="success" path="/EditProject.do"/>
    </action>

    <action path="/Logout"
              type="controller.LogoutAction">
              <forward name="success" path="/Login.do"/>
    </action>
    
    <action path="/MainPage" 
    		type="controller.MainPageAction"
    		scope="request"
    		input="main.jsp">
    	<forward name="success" path="/main.jsp" />
    </action>
    
    <action path="/EditProject"
    		type="controller.EditProjectAction"
    		name="projectForm"
    		input="/editProject.jsp"
    		scope="request">
    		<forward name="success" path="/index.jsp"/>
    </action>
    
    <action   path="/EditProjectSaver"
              type="controller.EditProjectSaverAction"
              name="projectForm"
              scope="request"
              input="/editProject.jsp"
              validate="true">
	    <forward name="success" path="/index.jsps" redirect="true"/>
	    <forward name="failure" path="/message.jsp"/>
    </action>
    
    <action path="/DeleteProject"
              type="controllerDeleteProjectAction"
              name="idForm">
	    <forward name="success" path="/index.jsp" redirect="true"/>
	    <forward name="failure" path="/message.jsp"/>
    </action>
    
    <action path="/EditUser"
    		type="controller.EditUserAction"
    		name="userForm"
    		input="/editUser.jsp"
    		scope="request">
    		<forward name="success" path="/index.jsp"/>
    </action>
    
    <action   path="/EditUserSaver"
              type="controller.EditUserSaverAction"
              name="userForm"
              scope="request"
              input="/editUser.jsp"
              validate="true">
	    <forward name="success" path="/index.jsps" redirect="true"/>
	    <forward name="failure" path="/message.jsp"/>
    </action>
    
    <action path="/DeleteUser"
              type="controllerDeleteUserAction"
              name="idForm">
	    <forward name="success" path="/index.jsp" redirect="true"/>
	    <forward name="failure" path="/message.jsp"/>
    </action>
  </action-mappings>
  
  <message-resources parameter="controller.MessageResources"/>

</struts-config>
